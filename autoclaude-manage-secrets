#!/bin/bash
# Global secrets management wrapper

# Find AutoClaude installation
if [ -n "${AUTOCLAUDE_HOME:-}" ] && [ -f "$AUTOCLAUDE_HOME/scripts/manage-secrets.sh" ]; then
    exec "$AUTOCLAUDE_HOME/scripts/manage-secrets.sh" "$@"
elif [ -f "/usr/local/bin/autoclaude" ]; then
    # Extract AUTOCLAUDE_HOME from wrapper
    AUTOCLAUDE_HOME=$(grep "^AUTOCLAUDE_HOME=" /usr/local/bin/autoclaude | cut -d'"' -f2)
    if [ -f "$AUTOCLAUDE_HOME/scripts/manage-secrets.sh" ]; then
        exec "$AUTOCLAUDE_HOME/scripts/manage-secrets.sh" "$@"
    fi
fi

echo "‚ùå Cannot find AutoClaude installation"
echo "Please run from AutoClaude directory or reinstall"
exit 1